<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Master Linux-Befehle Editor</title>
  <!-- Modernes, leichtes Design -->
  <style>
    /* Grundstil */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      color: #333;
      line-height: 1.6;
      padding: 20px;
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      color: #007BFF;
    }
    header p {
      font-size: 1.1em;
      color: #555;
    }
    #searchContainer {
      text-align: center;
      margin: 20px auto;
      max-width: 500px;
    }
    #searchInput {
      width: 100%;
      padding: 12px;
      font-size: 1em;
      border: 1px solid #ddd;
      border-radius: 25px;
      outline: none;
      transition: border 0.3s ease;
    }
    #searchInput:focus {
      border-color: #007BFF;
    }
    #commandList {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }
    .command-card {
      background: #fff;
      border-radius: 10px;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .command-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    .command-content {
      flex: 1;
      min-width: 250px;
      margin-right: 15px;
    }
    .command-content input[type="text"],
    .command-content textarea {
      width: 100%;
      font-family: Consolas, 'Courier New', monospace;
      font-size: 1em;
      padding: 8px 10px;
      margin-bottom: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      transition: border 0.3s ease, background 0.3s ease;
    }
    .command-content input[type="text"]:focus,
    .command-content textarea:focus {
      border-color: #007BFF;
      background: #f0f8ff;
      outline: none;
    }
    .buttons {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-shrink: 0;
    }
    .buttons button {
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      transition: background 0.3s ease;
    }
    .buttons button:hover {
      background: rgba(0, 123, 255, 0.1);
    }
    .buttons button svg {
      width: 24px;
      height: 24px;
      fill: #007BFF;
    }
    #addCommandBtn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin: 0 auto;
      padding: 12px 20px;
      font-size: 1.1em;
      border: 2px solid #007BFF;
      border-radius: 30px;
      color: #007BFF;
      background: transparent;
      cursor: pointer;
      transition: background 0.3s ease, color 0.3s ease;
    }
    #addCommandBtn:hover {
      background: #007BFF;
      color: #fff;
    }
    @media (max-width: 600px) {
      .command-card {
        flex-direction: column;
        align-items: stretch;
      }
      .buttons {
        justify-content: flex-end;
        margin-top: 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Master Linux-Befehle Editor</h1>
    <p>Bearbeite, kopiere und speichere deine Linux-Befehle dauerhaft – ideal für WSL, Termux und mehr.</p>
  </header>
  
  <div id="searchContainer">
    <input type="text" id="searchInput" placeholder="Befehl oder Beschreibung suchen...">
  </div>
  
  <div id="commandList">
    <!-- Dynamische Befehlskarten -->
  </div>
  
  <button id="addCommandBtn" title="Neuen Befehl hinzufügen">
    <svg viewBox="0 0 24 24">
      <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
    </svg>
    Neuer Befehl
  </button>
  
  <script>
    /***********************
    * MASTER SCRIPT
    * Dynamischer Linux-Befehle Editor mit Inline-Bearbeitung,
    * Kopierfunktion, Hinzufügen/Löschen von Befehlen und localStorage-Speicherung.
    ***********************/
    
    // Standardbefehle als Ausgangsbeispiel
    const defaultCommands = [
      { id: Date.now() + 1, command: "ls", description: "Zeigt den Inhalt des aktuellen Ordners an" },
      { id: Date.now() + 2, command: "cd ordnername", description: "Wechselt in den Ordner 'ordnername'" },
      { id: Date.now() + 3, command: "cd ..", description: "Geht einen Ordner nach oben" },
      { id: Date.now() + 4, command: "cd /", description: "Wechselt ins Root-Verzeichnis" },
      { id: Date.now() + 5, command: "cd ~", description: "Wechselt ins Home-Verzeichnis" },
      { id: Date.now() + 6, command: "pwd", description: "Zeigt den aktuellen Pfad an" },
      { id: Date.now() + 7, command: "python3 -m venv env", description: "Erstellt eine virtuelle Python-Umgebung" },
      { id: Date.now() + 8, command: "source env/bin/activate", description: "Aktiviert die virtuelle Umgebung" },
      { id: Date.now() + 9, command: "tmux new -s sessionname", description: "Erstellt eine neue tmux Session" },
      { id: Date.now() + 10, command: "tmux attach -t sessionname", description: "Tritt der vorhandenen tmux Session bei" }
    ];
    
    let commands = [];
    
    // Speichern in localStorage
    function saveCommands() {
      localStorage.setItem('commands', JSON.stringify(commands));
    }
    
    // Laden der Befehle (Default, falls nichts gespeichert)
    function loadCommands() {
      const stored = localStorage.getItem('commands');
      if (stored) {
        commands = JSON.parse(stored);
      } else {
        commands = defaultCommands;
        saveCommands();
      }
    }
    
    // Erzeugt eine HTML-Karte für einen einzelnen Befehl
    function createCommandCard(cmdObj) {
      const card = document.createElement('div');
      card.className = 'command-card';
      card.setAttribute('data-id', cmdObj.id);
      
      // Bereich für bearbeitbare Inhalte (Befehl und Beschreibung)
      const contentDiv = document.createElement('div');
      contentDiv.className = 'command-content';
      
      // Eingabefeld für den Befehl
      const inputCommand = document.createElement('input');
      inputCommand.type = 'text';
      inputCommand.value = cmdObj.command;
      inputCommand.placeholder = 'Befehl eingeben';
      inputCommand.addEventListener('input', () => {
        cmdObj.command = inputCommand.value;
        saveCommands();
      });
      
      // Textarea für die Beschreibung
      const inputDesc = document.createElement('textarea');
      inputDesc.value = cmdObj.description;
      inputDesc.placeholder = 'Beschreibung eingeben';
      inputDesc.rows = 2;
      inputDesc.addEventListener('input', () => {
        cmdObj.description = inputDesc.value;
        saveCommands();
      });
      
      contentDiv.appendChild(inputCommand);
      contentDiv.appendChild(inputDesc);
      
      // Bereich für Aktion-Buttons
      const buttonsDiv = document.createElement('div');
      buttonsDiv.className = 'buttons';
      
      // Kopier-Button
      const copyBtn = document.createElement('button');
      copyBtn.title = 'Befehl kopieren';
      copyBtn.innerHTML = `<svg viewBox="0 0 24 24">
        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
      </svg>`;
      copyBtn.addEventListener('click', () => {
        const text = inputCommand.value;
        if (navigator.clipboard) {
          navigator.clipboard.writeText(text)
            .then(() => alert('Befehl kopiert: ' + text))
            .catch(err => alert('Fehler beim Kopieren: ' + err));
        } else {
          // Fallback-Methode
          const ta = document.createElement("textarea");
          ta.value = text;
          document.body.appendChild(ta);
          ta.select();
          try {
            document.execCommand('copy');
            alert('Befehl kopiert: ' + text);
          } catch (err) {
            alert('Fehler beim Kopieren: ' + err);
          }
          document.body.removeChild(ta);
        }
      });
      
      // Löschen-Button
      const deleteBtn = document.createElement('button');
      deleteBtn.title = 'Befehl löschen';
      deleteBtn.innerHTML = `<svg viewBox="0 0 24 24">
        <path d="M19 13H5V11H19V13Z"/>
      </svg>`;
      deleteBtn.addEventListener('click', () => {
        if (confirm('Diesen Befehl wirklich löschen?')) {
          commands = commands.filter(c => c.id !== cmdObj.id);
          saveCommands();
          renderCommands();
        }
      });
      
      buttonsDiv.appendChild(copyBtn);
      buttonsDiv.appendChild(deleteBtn);
      
      card.appendChild(contentDiv);
      card.appendChild(buttonsDiv);
      
      return card;
    }
    
    // Rendert die gesamte Befehlsliste
    function renderCommands() {
      const listDiv = document.getElementById('commandList');
      listDiv.innerHTML = '';
      const filter = document.getElementById('searchInput').value.toLowerCase();
      commands.forEach(cmd => {
        if (cmd.command.toLowerCase().includes(filter) || cmd.description.toLowerCase().includes(filter)) {
          const card = createCommandCard(cmd);
          listDiv.appendChild(card);
        }
      });
    }
    
    // Fügt einen neuen Befehl hinzu
    function addNewCommand() {
      const newCmd = { id: Date.now(), command: "neuer_befehl", description: "Beschreibung" };
      commands.push(newCmd);
      saveCommands();
      renderCommands();
    }
    
    // Event-Listener für Suchfeld und Hinzufügen-Button
    document.getElementById('searchInput').addEventListener('input', renderCommands);
    document.getElementById('addCommandBtn').addEventListener('click', addNewCommand);
    
    // Initialer Ladeprozess
    loadCommands();
    renderCommands();
  </script>
</body>
</html>
