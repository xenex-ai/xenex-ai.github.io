<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Xenex AI - Ultra Premium UI</title>
  <style>
    /* ------------------------
       FONTS & BASICS
    ------------------------ */
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; 
      height: 100%;
      font-family: 'Roboto', sans-serif;
      background: #0b0f24;
      color: #fff;
      overflow-x: hidden;
      position: relative;
    }

    /* Progressbar-Animation */
    @keyframes progressFill {
      from { width: 0%; }
      to   { width: var(--target-width); }
    }

    .xp-bar-inner {
      height: 100%;
      background: linear-gradient(90deg, #0ff, #00f);
      border-radius: 4px;
      transition: width 0.8s ease-in-out;
    }
    
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <h1 class="app-title">Xenex AI</h1>
    <div class="header-extra" id="currentTime">--:--:--</div>
  </header>

  <!-- AVATAR PANEL -->
  <div class="avatar-panel">
    <h2 class="avatar-title">Avatar Auswahl</h2>
    <div class="avatar-container" id="avatar-container">
      <img id="avatar" class="avatar" src="../img/car1.png" alt="AI Avatar">
    </div>
    <div class="avatar-stats" id="avatar-stats"></div>
    <div class="button-row">
      <button class="change-avatar-btn" onclick="changeAvatar()">Avatar Ã¤ndern</button>
      <button class="show-profile-btn" onclick="openProfile()">Profil anzeigen</button>
    </div>
  </div>

  <!-- JAVASCRIPT -->
  <script>
    // Fortschrittsbalken & Zahlen animieren
    function animateStatChange(element, newValue) {
      let currentValue = parseInt(element.textContent);
      let step = (newValue - currentValue) / 20;
      
      let interval = setInterval(() => {
        currentValue += step;
        if ((step > 0 && currentValue >= newValue) || (step < 0 && currentValue <= newValue)) {
          currentValue = newValue;
          clearInterval(interval);
        }
        element.textContent = Math.round(currentValue);
      }, 50);
    }

    function animateProgressBar(bar, newPercentage) {
      bar.style.setProperty("--target-width", newPercentage + "%");
      bar.style.animation = "progressFill 0.8s ease-in-out forwards";
    }

    // Avatare
    const avatars = [
      { src: "../img/car1.png", name: "Speedster", level: 1, power: 120, xp: 20, maxXp: 100, topSpeed: 220, acceleration: 3.5, handling: 80 },
      { src: "../img/car2.png", name: "RoadRacer", level: 2, power: 180, xp: 50, maxXp: 100, topSpeed: 240, acceleration: 3.2, handling: 85 }
    ];

    let currentIndex = 0;
    const avatarImg = document.getElementById("avatar");
    const avatarStats = document.getElementById("avatar-stats");

    function changeAvatar() {
      currentIndex = (currentIndex + 1) % avatars.length;
      loadAvatarData(currentIndex);
    }

    function loadAvatarData(index) {
      const av = avatars[index];

      avatarImg.style.animation = "none";
      setTimeout(() => {
        avatarImg.style.animation = "fadeInSlide 0.8s forwards";
        avatarImg.src = av.src;
      }, 50);

      avatarStats.innerHTML = `
        <div class="stat-box">
          <div class="stat-title">Name</div>
          <div class="stat-value">${av.name}</div>
        </div>
        <div class="stat-box">
          <div class="stat-title">Level</div>
          <div class="stat-value">${av.level}</div>
        </div>
        <div class="stat-box">
          <div class="stat-title">Power</div>
          <div class="stat-value" id="power-value">${av.power}</div>
        </div>
        <div class="stat-box">
          <div class="stat-title">XP</div>
          <div class="stat-value" id="xp-value">${av.xp} / ${av.maxXp}</div>
          <div class="xp-bar">
            <div class="xp-bar-inner" id="xp-bar" style="width: ${(av.xp / av.maxXp * 100)}%;"></div>
          </div>
        </div>
        <div class="stat-box">
          <div class="stat-title">Top Speed</div>
          <div class="stat-value" id="speed-value">${av.topSpeed} km/h</div>
          <div class="xp-bar">
            <div class="xp-bar-inner" id="speed-bar" style="width: ${(av.topSpeed / 300 * 100)}%;"></div>
          </div>
        </div>
        <div class="stat-box">
          <div class="stat-title">Acceleration</div>
          <div class="stat-value" id="acceleration-value">${av.acceleration} s (0-100 km/h)</div>
          <div class="xp-bar">
            <div class="xp-bar-inner" id="acceleration-bar" style="width: ${((5.0 - av.acceleration) / 2.5 * 100)}%;"></div>
          </div>
        </div>
        <div class="stat-box">
          <div class="stat-title">Handling</div>
          <div class="stat-value" id="handling-value">${av.handling} / 100</div>
          <div class="xp-bar">
            <div class="xp-bar-inner" id="handling-bar" style="width: ${(av.handling)}%;"></div>
          </div>
        </div>
      `;

      // Animierte Stat-Updates
      animateStatChange(document.getElementById("power-value"), av.power);
      animateStatChange(document.getElementById("xp-value"), av.xp);
      animateStatChange(document.getElementById("speed-value"), av.topSpeed);
      animateStatChange(document.getElementById("acceleration-value"), av.acceleration);
      animateStatChange(document.getElementById("handling-value"), av.handling);

      // Progressbars animieren
      animateProgressBar(document.getElementById("xp-bar"), (av.xp / av.maxXp) * 100);
      animateProgressBar(document.getElementById("speed-bar"), (av.topSpeed / 300) * 100);
      animateProgressBar(document.getElementById("acceleration-bar"), ((5.0 - av.acceleration) / 2.5) * 100);
      animateProgressBar(document.getElementById("handling-bar"), av.handling);
    }

    // Initial Avatar laden
    window.onload = () => loadAvatarData(currentIndex);
  </script>
</body>
</html>
